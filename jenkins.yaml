security:
  queueItemAuthenticator:
    authenticators:
      - global:
          strategy: "triggeringUsersAuthorizationStrategy"
jenkins:
  remotingSecurity:
    enabled: true
  disableRememberMe: false
  agentProtocols:
    - "JNLP4-connect"
    - "Ping"
  markupFormatter: "markdownFormatter"
  numExecutors: 0
  clouds:
    - kubernetes:
        containerCapStr: "3"
        jenkinsTunnel: "jenkins-agent:50000"
        jenkinsUrl: "http://jenkins:8080"
        maxRequestsPerHostStr: "32"
        name: "kubernetes"
        namespace: "jenkins"
        podLabels:
        - key: "jenkins/jenkins-jenkins-slave"
          value: "true"
        serverUrl: "https://kubernetes.default"
        templates:
        - containers:
          - alwaysPullImage: true
            args: "^${computer.jnlpmac} ^${computer.name}"
            envVars:
            - envVar:
                key: "JENKINS_URL"
                value: "http://jenkins.jenkins.svc.cluster.local:8080"
            image: "jenkins/jnlp-agent-docker"
            runAsGroup: "998"
            runAsUser: "1000"
            livenessProbe:
              failureThreshold: 0
              initialDelaySeconds: 0
              periodSeconds: 0
              successThreshold: 0
              timeoutSeconds: 0
            name: "jnlp"
            privileged: true
            resourceLimitCpu: "2.0"
            resourceLimitMemory: "2048Mi"
            resourceRequestCpu: "1.0"
            resourceRequestMemory: "1024Mi"
            ttyEnabled: false
            workingDir: "/home/jenkins/agent"
          hostNetwork: false
          idleMinutes: 30
          idleMinutesStr: "30"
          label: "jenkins-agent"
          name: "default"
          namespace: "jenkins"
          nodeUsageMode: "NORMAL"
          podRetention: "onFailure"
          serviceAccount: "default"
          workspaceVolume:
            emptyDirWorkspaceVolume:
              memory: true
          volumes:
           - hostPathVolume:
               hostPath: "/var/run/docker.sock"
               mountPath: "/var/run/docker.sock"
          yaml: |
            spec:
              dnsConfig:
                options:
                  - name: ndots
                    value: "1"
          yamlMergeStrategy: "override"
  crumbIssuer:
    standard:
      excludeClientIPFromCrumb: true
unclassified:
  location:
    adminAddress: "jenkins@troublemaker.dev"
    url: "https://jenkins.debian.troublemaker.dev/"
  email-ext:
    defaultReplyTo: "jenkins@troublemaker.dev"
    mailAccount:
      smtpPort: "25"
      smtpHost: "${SMTP_SERVER}"
  mailer:
    replyToAddress: "jenkins@troublemaker.dev"
    smtpHost: "${SMTP_SERVER}"
    smtpPort: "25"
  buildDiscarders:
    configuredBuildDiscarders:
      - "jobBuildDiscarder"
      - simpleBuildDiscarder:
          discarder:
            logRotator:
              numToKeepStr: "5"
  themeManager:
    disableUserThemes: false
    theme: "darkSystem"
  globalDefaultFlowDurabilityLevel:
    durabilityHint: PERFORMANCE_OPTIMIZED
